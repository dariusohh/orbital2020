{"ast":null,"code":"var _jsxFileName = \"/Users/darius/Desktop/orbital2020/frontend/src/components/Expense/Expense.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport Popup from \"reactjs-popup\";\nimport MenuItem from '@material-ui/core/MenuItem';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport Button from '@material-ui/core/button';\nimport EditIcon from '@material-ui/icons/Edit';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Input from '@material-ui/core/Input';\nimport TextField from '@material-ui/core/TextField';\nimport './import.css';\nexport const Expense = ({\n  transaction\n}) => {\n  const onDelete = event => {\n    return axios.delete(`api/${transaction.id}/`);\n  };\n\n  const onUpdate = event => {\n    const name = event.target.name.value;\n    const amount = event.target.amount.value;\n    const username = localStorage.getItem(\"username\");\n    return axios.put(`api/${transaction.id}/`, {\n      name: name,\n      username: username,\n      amount: -amount\n    }).catch(err => console.log(err));\n  };\n\n  const daydiff = objdate => {\n    const currdate = new Date(new Date().getFullYear(), new Date().getMonth(), new Date().getDate());\n    const objyear = objdate.substring(0, 4);\n    const objmth = objdate.substring(5, 7) - 1;\n    const objday = objdate.substring(8, 10);\n    const objhour = parseInt(objdate.substring(11, 13)) + 8;\n    const objmin = objdate.substring(14, 16);\n    const objsec = objdate.substring(17, 19);\n    const olddate = new Date(objyear, objmth, objday, objhour, objmin, objsec);\n    const transdate = new Date(olddate.getFullYear(), olddate.getMonth(), olddate.getDate());\n    const daydiff = Math.floor((currdate.getTime() - transdate.getTime()) / (1000 * 60 * 60 * 24));\n\n    if (daydiff === 0) {\n      return \"Created Today\";\n    } else if (daydiff === 1) {\n      return \"Created Yesterday\";\n    } else {\n      return \"Created \" + daydiff + \" days ago\";\n    }\n  };\n\n  const expenseCat = [\"Entertainment\", \"Equipment & Furniture\", \"Marketing\", \"Office Supplies\", \"Payroll\", \"Rent\", \"Software\", \"Taxes\", \"Travel\", \"Utilities\", \"Others\"];\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, transaction.amount < 0 && /*#__PURE__*/React.createElement(\"li\", {\n    className: transaction.amount < 0 ? 'minus' : 'plus',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 14\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 14\n    }\n  }, transaction.name, \" : $\", Math.abs(transaction.amount), \"  \"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"date\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 14\n    }\n  }, daydiff(transaction.created_at))), /*#__PURE__*/React.createElement(Popup, {\n    trigger: /*#__PURE__*/React.createElement(EditIcon, {\n      className: \"update-btn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 29\n      }\n    }, \"Update\"),\n    modal: true,\n    closeOnDocumentClick: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: onUpdate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(InputLabel, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }, \"Category\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"select\", {\n    className: \"exp-dropdown\",\n    name: \"name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }, expenseCat.map(x => /*#__PURE__*/React.createElement(\"option\", {\n    value: x,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 21\n    }\n  }, x)))), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(InputLabel, {\n    htmlFor: \"standard-adornment-amount\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  }, \"Amount\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"trans-input\",\n    name: \"amount\",\n    type: \"text\",\n    placeholder: \"Enter amount...\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    type: \"submit\",\n    fullWidth: true,\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }\n  }, \"Update Expense\")))), /*#__PURE__*/React.createElement(Popup, {\n    trigger: /*#__PURE__*/React.createElement(DeleteIcon, {\n      className: \"delete-btn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 21\n      }\n    }, \"Delete\"),\n    modal: true,\n    closeOnDocumentClick: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: onDelete,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(InputLabel, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 5\n    }\n  }, \"Are you sure you want to delete this transaction?\"), /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    type: \"submit\",\n    fullWidth: true,\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 5\n    }\n  }, \"Delete\")))));\n};","map":{"version":3,"sources":["/Users/darius/Desktop/orbital2020/frontend/src/components/Expense/Expense.js"],"names":["React","axios","Popup","MenuItem","DeleteIcon","Button","EditIcon","InputAdornment","InputLabel","Input","TextField","Expense","transaction","onDelete","event","delete","id","onUpdate","name","target","value","amount","username","localStorage","getItem","put","catch","err","console","log","daydiff","objdate","currdate","Date","getFullYear","getMonth","getDate","objyear","substring","objmth","objday","objhour","parseInt","objmin","objsec","olddate","transdate","Math","floor","getTime","expenseCat","abs","created_at","map","x"],"mappings":"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","sourcesContent":["import React from 'react'\nimport axios from 'axios';\nimport Popup from \"reactjs-popup\";\nimport MenuItem from '@material-ui/core/MenuItem';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport Button from '@material-ui/core/button';\nimport EditIcon from '@material-ui/icons/Edit';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Input from '@material-ui/core/Input';\nimport TextField from '@material-ui/core/TextField';\nimport './import.css';\nexport const Expense = ({transaction}) => {\n\n    const onDelete = event => {\n        return axios.delete(`api/${transaction.id}/`);\n    }\n\n    const onUpdate = event => {\n        const name = event.target.name.value;\n        const amount = event.target.amount.value;\n        const username = localStorage.getItem(\"username\");\n        return axios.put(`api/${transaction.id}/`, {name: name, username: username,\n            amount: -amount})\n            .catch(err => console.log(err))\n    }\n\n    const daydiff = (objdate) => {\n        const currdate = new Date(new Date().getFullYear(),new Date().getMonth(),new Date().getDate())\n        const objyear = objdate.substring(0,4)\n        const objmth = objdate.substring(5,7) - 1\n        const objday = objdate.substring(8,10)\n        const objhour = parseInt(objdate.substring(11,13)) + 8\n        const objmin = objdate.substring(14,16)\n        const objsec = objdate.substring(17,19)\n        const olddate = new Date(objyear,objmth,objday,objhour,objmin,objsec)\n        const transdate = new Date(olddate.getFullYear(),olddate.getMonth(),olddate.getDate())\n        const daydiff = Math.floor((currdate.getTime() -transdate.getTime()) / (1000*60*60*24))\n        if (daydiff === 0) {\n            return \"Created Today\";\n        } else if (daydiff === 1) {\n            return \"Created Yesterday\";\n        } else {\n            return \"Created \" + daydiff + \" days ago\"\n        }\n    }\n\n    const expenseCat = [\"Entertainment\",\"Equipment & Furniture\",\"Marketing\",\n    \"Office Supplies\",\"Payroll\",\"Rent\",\"Software\",\"Taxes\",\"Travel\",\n    \"Utilities\",\"Others\"]\n\n    return (\n        \n        <div>\n        {transaction.amount < 0 &&\n        <li className={transaction.amount <0 ?'minus' : 'plus'}>\n             <div>\n             <div >{transaction.name} : ${Math.abs(transaction.amount)}  </div>\n             <div className = \"date\">{daydiff(transaction.created_at)}</div>\n            </div>  \n            <Popup trigger={<EditIcon className=\"update-btn\">Update</EditIcon>} modal closeOnDocumentClick>\n            <div>\n           \n        <form onSubmit={onUpdate}>\n            <div className =\"form-control\">\n            <InputLabel >Category</InputLabel>\n            <br/>\n            <select className=\"exp-dropdown\" name = \"name\">\n                {\n                    expenseCat.map(x => \n                    <option value={x}>{x}</option>\n                    )\n                }\n            </select>\n            </div>\n            <br/>\n            <div className=\"form-control\">\n            <InputLabel htmlFor=\"standard-adornment-amount\">Amount</InputLabel>\n         \n            <input className=\"trans-input\" name= \"amount\" type = \"text\" \n            placeholder=\"Enter amount...\" />\n            </div>\n            <br/>\n            <Button variant=\"contained\"  type=\"submit\"  fullWidth  color=\"primary\">Update Expense</Button>\n        </form>\n        </div>\n    </Popup>\n    <Popup trigger={<DeleteIcon className=\"delete-btn\">Delete</DeleteIcon>} modal closeOnDocumentClick>\n    <form onSubmit={onDelete}>\n    <InputLabel >Are you sure you want to delete this transaction?</InputLabel>\n    <Button variant=\"contained\"  type=\"submit\"  fullWidth  color=\"primary\">Delete</Button>\n    </form>\n    </Popup>\n        </li>\n        }\n    </div>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}