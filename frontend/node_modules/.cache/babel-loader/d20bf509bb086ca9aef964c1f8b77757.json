{"ast":null,"code":"var _jsxFileName = \"/Users/darius/Desktop/orbital2020/frontend/src/components/Visual/Visual.js\";\nimport axios from 'axios';\nimport React from 'react';\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Button from '@material-ui/core/Button';\nimport './visual.css';\nimport MoneyIcon from '@material-ui/icons/Money';\nimport { BarGraph2 } from './barR';\nimport { Graph } from './line';\nimport TrackChangesIcon from '@material-ui/icons/TrackChanges';\nimport { AddBudget } from './add';\nimport { BarGraph } from './bar';\nimport ArrowUpward from \"@material-ui/icons/ArrowUpward\";\nimport AccessTime from \"@material-ui/icons/AccessTime\";\nimport { Row, Col } from 'react-grid-system';\nimport { connect } from 'react-redux';\nimport { DateRangePicker } from 'rsuite';\nimport Card from \"../Card/Card.js\";\nimport Accessibility from \"@material-ui/icons/Accessibility\";\nimport GridItem from \"../Grid/GridItem\";\nimport GridContainer from \"../Grid/GridContainer.js\";\nimport CardHeader from \"../Card/CardHeader.js\";\nimport CardIcon from \"../Card/CardIcon.js\";\nimport DateRange from \"@material-ui/icons/DateRange\";\nimport Store from \"@material-ui/icons/Store\";\nimport Update from \"@material-ui/icons/Update\";\nimport CardFooter from \"../Card/CardFooter.js\";\nimport Target from './target';\nimport Revenue from './revenue';\nimport 'rsuite/dist/styles/rsuite-default.css';\nimport AccountBalanceIcon from '@material-ui/icons/AccountBalance';\nimport CardBody from \"../Card/CardBody.js\";\nimport dashboardStyle from '../assets/jss/material-dashboard-react/views/dashboard.js';\naxios.defaults.baseURL = 'http://127.0.0.1:8000/';\nconst useStyles = makeStyles(dashboardStyle);\n\nclass Visualisation extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      expense: [],\n      budget: 0,\n      revenue: 0,\n      startDate: new Date(new Date().setDate(1)),\n      endDate: new Date(),\n      filter: false,\n      length: 0\n    };\n\n    this.dateFilter = objdate => {\n      const objyear = objdate.substring(0, 4);\n      const objmth = objdate.substring(5, 7) - 1;\n      const objday = objdate.substring(8, 10);\n      const objhour = parseInt(objdate.substring(11, 13)) + 8;\n      const objmin = objdate.substring(14, 16);\n      const objsec = objdate.substring(17, 19);\n      const olddate = new Date(objyear, objmth, objday, objhour, objmin, objsec);\n      const currdate = new Date(this.state.endDate.getFullYear(), this.state.endDate.getMonth(), this.state.endDate.getDate(), 23, 59, 59);\n      return olddate.getTime() <= currdate.getTime() && this.state.startDate.getTime() <= olddate.getTime();\n    };\n  }\n\n  componentDidMount() {\n    setTimeout(() => axios.get('api/').then(res => {\n      const new_res = res.data.filter(x => x.username === localStorage.getItem(\"username\")).filter(x => this.dateFilter(x.created_at));\n      this.setState({\n        expense: new_res,\n        length: new_res.filter(x => x.amount > 0).length\n      });\n      axios.get(`profile/${localStorage.getItem(\"username\")}/`).then(res => {\n        const budget = res.data.budget;\n        const target = res.data.target;\n        this.setState({\n          budget: budget,\n          target: target\n        });\n      });\n    }), 200);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.startDate.getTime() !== this.state.startDate.getTime() || prevState.endDate.getTime() !== this.state.endDate.getTime()) {\n      axios.get('api/').then(res => {\n        var new_res = res.data.filter(x => x.username === localStorage.getItem(\"username\")).filter(x => this.dateFilter(x.created_at));\n        this.setState({\n          expense: new_res\n        });\n      });\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      sm: 10,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 8\n      }\n    }, \"OVERALL ANALYSIS\")), /*#__PURE__*/React.createElement(Col, {\n      sm: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }\n    }, this.state.filter ? /*#__PURE__*/React.createElement(Button, {\n      \"aria-controls\": \"customized-menu\",\n      \"aria-haspopup\": \"true\",\n      variant: \"contained\",\n      color: \"primary\",\n      onClick: () => this.setState({\n        filter: false\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }\n    }, \"\\u25BC  Filter Date\") : /*#__PURE__*/React.createElement(Button, {\n      \"aria-controls\": \"customized-menu\",\n      \"aria-haspopup\": \"true\",\n      variant: \"contained\",\n      color: \"primary\",\n      onClick: () => this.setState({\n        filter: true\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }\n    }, \"\\u25B6   Filter Date\") // <button className= \"filter-button\" onClick={() => this.setState({filter:false})}>▼  Filter</button>\n    //     :\n    // <button className= \"filter-button\" onClick={() => this.setState({filter:true})}>▶  Filter</button>\n    , this.state.filter && /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(DateRangePicker, {\n      value: [this.state.startDate, this.state.endDate],\n      onChange: arr => this.setState({\n        startDate: arr[0],\n        endDate: arr[1]\n      }),\n      disabledDate: date => date.getTime() - new Date().getTime() > 0,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }\n    })))), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 7\n      }\n    }), \"    \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 16\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(GridContainer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(GridItem, {\n      xs: 12,\n      sm: 6,\n      md: 3,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(CardHeader, {\n      color: \"warning\",\n      stats: true,\n      icon: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(CardIcon, {\n      color: \"warning\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(TrackChangesIcon, {\n      style: {\n        fontSize: '30px',\n        color: 'white'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        color: 'black'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 15\n      }\n    }, \"Profit Target\"), /*#__PURE__*/React.createElement(\"h3\", {\n      style: {\n        color: 'black'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Target, {\n      data: this.state.expense,\n      target: this.state.target,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"small\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 78\n      }\n    }, \"%\"))), /*#__PURE__*/React.createElement(CardFooter, {\n      stats: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(DateRange, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 17\n      }\n    }), \"Last 24 Hours\")))), /*#__PURE__*/React.createElement(GridItem, {\n      xs: 12,\n      sm: 6,\n      md: 3,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(CardHeader, {\n      color: \"success\",\n      stats: true,\n      icon: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(CardIcon, {\n      color: \"success\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(MoneyIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        color: 'black'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 15\n      }\n    }, \"Revenue\"), /*#__PURE__*/React.createElement(\"h3\", {\n      style: {\n        color: 'black'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Revenue, {\n      data: this.state.expense,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 44\n      }\n    }))), /*#__PURE__*/React.createElement(CardFooter, {\n      stats: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(DateRange, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 17\n      }\n    }), \"Last 24 Hours\")))), /*#__PURE__*/React.createElement(GridItem, {\n      xs: 12,\n      sm: 6,\n      md: 3,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(CardHeader, {\n      color: \"danger\",\n      stats: true,\n      icon: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(CardIcon, {\n      color: \"danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(AccountBalanceIcon, {\n      style: {\n        fontSize: '30px',\n        color: 'white'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        color: 'black'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 15\n      }\n    }, \"Budget Left\"), /*#__PURE__*/React.createElement(\"h3\", {\n      style: {\n        color: 'black'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 15\n      }\n    }, \"  \", /*#__PURE__*/React.createElement(AddBudget, {\n      data: this.state.expense,\n      budget: this.state.budget,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 46\n      }\n    }))), /*#__PURE__*/React.createElement(CardFooter, {\n      stats: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Update, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 17\n      }\n    }), \"Just Updated\")))), /*#__PURE__*/React.createElement(GridItem, {\n      xs: 12,\n      sm: 6,\n      md: 3,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(CardHeader, {\n      color: \"info\",\n      stats: true,\n      icon: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(CardIcon, {\n      color: \"info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Accessibility, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        color: 'black'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 15\n      }\n    }, \"Consumer Count\"), /*#__PURE__*/React.createElement(\"h3\", {\n      style: {\n        color: 'black'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 15\n      }\n    }, this.state.length)), /*#__PURE__*/React.createElement(CardFooter, {\n      stats: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Update, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 17\n      }\n    }), \"Just Updated\"))))), /*#__PURE__*/React.createElement(GridContainer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(GridItem, {\n      xs: 12,\n      sm: 12,\n      md: 4,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      chart: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(CardHeader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(BarGraph, {\n      data: this.state.expense,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(CardBody, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 15\n      }\n    }, \" Analysis of Company's Expenses\")), /*#__PURE__*/React.createElement(CardFooter, {\n      chart: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(AccessTime, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 17\n      }\n    }), \"  according to filtered dates\")))), /*#__PURE__*/React.createElement(GridItem, {\n      xs: 12,\n      sm: 12,\n      md: 4,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      chart: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(CardHeader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Graph, {\n      data: this.state.expense,\n      startDate: this.state.startDate,\n      endDate: this.state.endDate,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(CardBody, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 15\n      }\n    }, \" \", /*#__PURE__*/React.createElement(ArrowUpward, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 20\n      }\n    }), \"Tracking of Company's Progress\")), /*#__PURE__*/React.createElement(CardFooter, {\n      chart: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(AccessTime, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 17\n      }\n    }), \"  according to filtered dates\")))), /*#__PURE__*/React.createElement(GridItem, {\n      xs: 12,\n      sm: 12,\n      md: 4,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      chart: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(CardHeader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(BarGraph2, {\n      data: this.state.expense,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(CardBody, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 15\n      }\n    }, \"Analysis of Company's Revenues\")), /*#__PURE__*/React.createElement(CardFooter, {\n      chart: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(AccessTime, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 17\n      }\n    }), \" according to filtered dates\")))))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    token: state.token\n  };\n};\n\nexport default connect(mapStateToProps)(Visualisation);","map":{"version":3,"sources":["/Users/darius/Desktop/orbital2020/frontend/src/components/Visual/Visual.js"],"names":["axios","React","makeStyles","Button","MoneyIcon","BarGraph2","Graph","TrackChangesIcon","AddBudget","BarGraph","ArrowUpward","AccessTime","Row","Col","connect","DateRangePicker","Card","Accessibility","GridItem","GridContainer","CardHeader","CardIcon","DateRange","Store","Update","CardFooter","Target","Revenue","AccountBalanceIcon","CardBody","dashboardStyle","defaults","baseURL","useStyles","Visualisation","Component","state","expense","budget","revenue","startDate","Date","setDate","endDate","filter","length","dateFilter","objdate","objyear","substring","objmth","objday","objhour","parseInt","objmin","objsec","olddate","currdate","getFullYear","getMonth","getDate","getTime","componentDidMount","setTimeout","get","then","res","new_res","data","x","username","localStorage","getItem","created_at","setState","amount","target","componentDidUpdate","prevProps","prevState","render","arr","date","fontSize","color","mapStateToProps","token"],"mappings":"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","sourcesContent":["\nimport axios from 'axios';\nimport React from 'react';\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Button from '@material-ui/core/Button';\nimport './visual.css';\nimport MoneyIcon from '@material-ui/icons/Money';\nimport {BarGraph2} from './barR';\nimport {Graph} from'./line';\nimport TrackChangesIcon from '@material-ui/icons/TrackChanges';\nimport {AddBudget} from './add';\nimport {BarGraph} from './bar';\nimport ArrowUpward from \"@material-ui/icons/ArrowUpward\";\nimport AccessTime from \"@material-ui/icons/AccessTime\";\nimport {Row,Col}from 'react-grid-system';\nimport { connect } from 'react-redux';\nimport { DateRangePicker } from 'rsuite';\nimport Card from \"../Card/Card.js\";\nimport Accessibility from \"@material-ui/icons/Accessibility\";\nimport GridItem from \"../Grid/GridItem\";\nimport GridContainer from \"../Grid/GridContainer.js\";\nimport CardHeader from \"../Card/CardHeader.js\";\nimport CardIcon from \"../Card/CardIcon.js\";\nimport DateRange from \"@material-ui/icons/DateRange\";\nimport Store from \"@material-ui/icons/Store\";\nimport Update from \"@material-ui/icons/Update\";\nimport CardFooter from \"../Card/CardFooter.js\";\nimport Target from './target';\nimport Revenue from './revenue';\nimport 'rsuite/dist/styles/rsuite-default.css';\nimport AccountBalanceIcon from '@material-ui/icons/AccountBalance';\nimport CardBody from \"../Card/CardBody.js\";\nimport dashboardStyle from '../assets/jss/material-dashboard-react/views/dashboard.js';\naxios.defaults.baseURL = 'http://127.0.0.1:8000/';\n\nconst useStyles = makeStyles(dashboardStyle);\nclass Visualisation extends React.Component {\n   \n  state = {\n    expense: [],\n    budget: 0,\n    revenue:0,\n    startDate: new Date(new Date().setDate(1)),\n    endDate: new Date(),\n    filter:false,\n    length:0\n}\n\n\ndateFilter = (objdate) => {\n  const objyear = objdate.substring(0,4)\n  const objmth = objdate.substring(5,7) - 1\n  const objday = objdate.substring(8,10)\n  const objhour = parseInt(objdate.substring(11,13)) + 8\n  const objmin = objdate.substring(14,16)\n  const objsec = objdate.substring(17,19)\n  const olddate = new Date(objyear,objmth,objday, objhour, objmin, objsec)\n  const currdate = new Date(this.state.endDate.getFullYear(),this.state.endDate.getMonth(),this.state.endDate.getDate(),23,59,59)\n      return (olddate.getTime() <= currdate.getTime()) \n      && (this.state.startDate.getTime() <= olddate.getTime())\n}\n\ncomponentDidMount() {\n    setTimeout(() => \n      axios.get('api/')\n      .then(res => {\n          const new_res = res.data.filter(x => x.username === localStorage.getItem(\"username\")).filter(x => this.dateFilter(x.created_at));\n          this.setState({\n              expense: new_res,\n              length: new_res.filter(x => x.amount >0).length\n          });\n      axios.get(`profile/${localStorage.getItem(\"username\")}/`)\n      .then(res => {\n        const budget = res.data.budget\n        const target = res.data.target\n        this.setState({\n          budget: budget,\n          target: target\n        })\n      })\n      }), 200);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if ((prevState.startDate.getTime() !== this.state.startDate.getTime()) || \n    (prevState.endDate.getTime() !== this.state.endDate.getTime())) {\n      axios.get('api/')\n      .then(res => {\n          var new_res = res.data.filter(x => x.username === localStorage.getItem(\"username\")).filter(x => this.dateFilter(x.created_at))\n          this.setState({\n              expense: new_res\n          });\n      })}\n  }\n\n  render() {\n  \n  return (\n   <>\n     <Row>\n        <Col sm={10} >\n       <h3>OVERALL ANALYSIS</h3>\n        </Col>\n        <Col sm={2}>\n        { this.state.filter ? \n        <Button\n        aria-controls=\"customized-menu\"\n        aria-haspopup=\"true\"\n        variant=\"contained\"\n        color=\"primary\"\n        onClick={() => this.setState({filter:false})}\n      \n      >\n        ▼  Filter Date\n        </Button>\n        :\n        <Button\n        aria-controls=\"customized-menu\"\n        aria-haspopup=\"true\"\n        variant=\"contained\"\n        color=\"primary\"\n        onClick={() => this.setState({filter:true})}\n      \n      >\n        ▶   Filter Date\n        </Button>\n        // <button className= \"filter-button\" onClick={() => this.setState({filter:false})}>▼  Filter</button>\n        //     :\n        // <button className= \"filter-button\" onClick={() => this.setState({filter:true})}>▶  Filter</button>\n        }\n        { this.state.filter && \n          <div>\n        \n        <DateRangePicker \n        value={[this.state.startDate,this.state.endDate]}\n        onChange={arr => this.setState({startDate:arr[0],endDate:arr[1]})}\n        disabledDate={date => date.getTime() - new Date().getTime() > 0}/>\n        </div>\n        }\n        </Col>\n      </Row>\n      <br/>    <br/>   \n      <div>\n      <GridContainer>\n      <GridItem xs={12} sm={6} md={3}>\n          <Card>\n            <CardHeader color=\"warning\" stats icon>\n              <CardIcon color=\"warning\">\n                <TrackChangesIcon style={{fontSize:'30px',color:'white'}}/>\n              </CardIcon>\n              <p style={{color:'black'}}>Profit Target</p>\n              <h3 style={{color:'black'}}>\n              <Target data={this.state.expense} target= {this.state.target}/><small>%</small>\n              </h3>\n            </CardHeader>\n            <CardFooter stats>\n            <div >\n                <DateRange />\n                Last 24 Hours\n              </div>\n            </CardFooter>\n          </Card>\n       \n       \n        </GridItem>\n        <GridItem xs={12} sm={6} md={3}>\n          <Card>\n            <CardHeader color=\"success\" stats icon>\n              <CardIcon color=\"success\">\n                <MoneyIcon/>\n              </CardIcon>\n              <p style={{color:'black'}} >Revenue</p>\n              <h3 style={{color:'black'}} ><Revenue data={this.state.expense}/></h3>\n            </CardHeader>\n            <CardFooter stats>\n              <div >\n                <DateRange />\n                Last 24 Hours\n              </div>\n\n            </CardFooter>\n          </Card>\n        </GridItem>\n        <GridItem xs={12} sm={6} md={3}>\n          <Card>\n            <CardHeader color=\"danger\" stats icon>\n              <CardIcon color=\"danger\">\n                <AccountBalanceIcon style={{fontSize:'30px',color:'white'}}/>\n              </CardIcon>\n              <p style={{color:'black'}} >Budget Left</p>\n              <h3 style={{color:'black'}} >  <AddBudget data={this.state.expense} budget ={this.state.budget}/></h3>\n            </CardHeader>\n            <CardFooter stats>\n            <div >\n                <Update />\n                Just Updated\n              </div>\n            </CardFooter>\n          </Card>\n        </GridItem>\n        <GridItem xs={12} sm={6} md={3}>\n          <Card>\n            <CardHeader color=\"info\" stats icon>\n              <CardIcon color=\"info\">\n                <Accessibility />\n              </CardIcon>\n              <p style={{color:'black'}}>Consumer Count</p>\n              <h3 style={{color:'black'}}>{this.state.length}</h3>\n            </CardHeader>\n            <CardFooter stats>\n              <div >\n                <Update />\n                Just Updated\n              </div>\n            </CardFooter>\n          </Card>\n        </GridItem>\n      </GridContainer>\n\n\n      <GridContainer>\n        <GridItem xs={12} sm={12} md={4}>\n          <Card chart>\n            <CardHeader  >\n            <BarGraph data={this.state.expense} />\n            </CardHeader>\n            <CardBody>\n             \n              <p > Analysis of Company's Expenses               \n              </p>\n            </CardBody>\n            <CardFooter chart>\n              <div >\n                <AccessTime />  according to filtered dates\n              </div>\n            </CardFooter>\n          </Card>\n        </GridItem>\n        <GridItem xs={12} sm={12} md={4}>\n          <Card chart>\n            <CardHeader >\n            <Graph data={this.state.expense} \n                                  startDate = {this.state.startDate} \n                                  endDate = {this.state.endDate}\n                                  /> \n            </CardHeader>\n            <CardBody>\n           \n              <p > <ArrowUpward  />Tracking of Company's Progress</p>\n            </CardBody>\n            <CardFooter chart>\n              <div >\n                <AccessTime />  according to filtered dates\n              </div>\n            </CardFooter>\n          </Card>\n        </GridItem>\n        <GridItem xs={12} sm={12} md={4}>\n          <Card chart>\n            <CardHeader >\n            <BarGraph2 data={this.state.expense} />\n            </CardHeader>\n            <CardBody>\n              <p >Analysis of Company's Revenues</p>\n            </CardBody>\n            <CardFooter chart>\n              <div >\n                <AccessTime /> according to filtered dates\n              </div>\n            </CardFooter>\n          </Card>\n        </GridItem>\n      </GridContainer>\n\n\n</div>\n\n   </>\n\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n      token: state.token\n  }\n}\n\nexport default connect(mapStateToProps)(Visualisation);\n"]},"metadata":{},"sourceType":"module"}