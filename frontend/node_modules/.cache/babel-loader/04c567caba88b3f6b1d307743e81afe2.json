{"ast":null,"code":"var _jsxFileName = \"/Users/darius/Desktop/orbital2020/frontend/src/components/Profile/expense.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport { Bar } from 'react-chartjs-2';\naxios.defaults.baseURL = 'http://127.0.0.1:8000/';\nexport class Expense extends React.Component {\n  render() {\n    const yearFilter = objdate => {\n      const prevyear = new Date(new Date().setFullYear(new Date().getFullYear() - 1));\n      const objyear = objdate.substring(0, 4);\n      const objmth = objdate.substring(5, 7) - 1;\n      const objday = objdate.substring(8, 10);\n      const objhour = parseInt(objdate.substring(11, 13)) + 8;\n      const objmin = objdate.substring(14, 16);\n      const objsec = objdate.substring(17, 19);\n      const olddate = new Date(objyear, objmth, objday, objhour, objmin, objsec);\n      return olddate.getTime() > prevyear.getTime();\n    };\n\n    const total = this.props.data.filter(x => yearFilter(x.created_at)).map(transaction => transaction.amount).map(num => parseFloat(num)).filter(item => item < 0).reduce((acc, item) => acc -= item, 0).toFixed(2);\n    const long = this.props.data.filter(x => yearFilter(x.created_at)).map(transaction => transaction.amount).map(num => parseFloat(num)).filter(item => item < 0).filter(x => x.name in [\"Payroll\", \"Rent\", \"Taxes\", \"Utilities\"]).reduce((acc, item) => acc -= item, 0).toFixed(2);\n    const ylabels = [long, total - long];\n    const data = {\n      labels: [\"Long-term\", \"Short-Term\"],\n      datasets: [{\n        label: \"\",\n        backgroundColor: 'rgba(210, 82, 127, 1)',\n        borderColor: 'rgba(255,99,132,1)',\n        borderWidth: 1,\n        hoverBackgroundColor: 'rgba(255,99,132,0.4)',\n        hoverBorderColor: 'rgba(255,99,132,1)',\n        data: ylabels\n      }]\n    };\n    var options = {\n      legend: {\n        display: false\n      },\n      scales: {\n        xAxes: [{\n          gridLines: {\n            display: false\n          }\n        }],\n        yAxes: [{\n          gridLines: {\n            display: true\n          },\n          ticks: {\n            beginAtZero: true\n          }\n        }]\n      }\n    };\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 7\n      }\n    }, \"TOTAL EXPENSE\"), /*#__PURE__*/React.createElement(\"h4\", {\n      style: {\n        float: 'right'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 3\n      }\n    }, \"SGD $\", this.props.data.map(transaction => transaction.amount).map(num => parseFloat(num)).filter(item => item > 0).reduce((acc, item) => acc += item, 0).toFixed(2)), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 2\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"line\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 4\n      }\n    }), /*#__PURE__*/React.createElement(Bar, {\n      data: data,\n      options: options,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 4\n      }\n    }));\n  }\n\n}\nexport default Expense;","map":{"version":3,"sources":["/Users/darius/Desktop/orbital2020/frontend/src/components/Profile/expense.js"],"names":["React","axios","Bar","defaults","baseURL","Expense","Component","render","yearFilter","objdate","prevyear","Date","setFullYear","getFullYear","objyear","substring","objmth","objday","objhour","parseInt","objmin","objsec","olddate","getTime","total","props","data","filter","x","created_at","map","transaction","amount","num","parseFloat","item","reduce","acc","toFixed","long","name","ylabels","labels","datasets","label","backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","options","legend","display","scales","xAxes","gridLines","yAxes","ticks","beginAtZero","float"],"mappings":"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","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport {Bar} from 'react-chartjs-2';\naxios.defaults.baseURL = 'http://127.0.0.1:8000/';\n\n\nexport class Expense extends React.Component {\n\n   \n    \n    \n  render() {\n\n    const yearFilter = objdate => {\n      const prevyear = new Date(new Date().setFullYear(new Date().getFullYear() - 1))\n      const objyear = objdate.substring(0,4)\n      const objmth = objdate.substring(5,7) - 1\n      const objday = objdate.substring(8,10)\n      const objhour = parseInt(objdate.substring(11,13)) + 8\n      const objmin = objdate.substring(14,16)\n      const objsec = objdate.substring(17,19)\n      const olddate = new Date(objyear,objmth,objday, objhour, objmin, objsec)\n      return olddate.getTime() > prevyear.getTime()\n    }\n\n    const total =(this.props.data.filter(x => yearFilter(x.created_at))\n        .map(transaction => transaction.amount).map(num => parseFloat(num))\n        .filter(item => item < 0)\n        .reduce((acc, item) => (acc -= item), 0)\n        .toFixed(2))\n\n        const long =(this.props.data.filter(x => yearFilter(x.created_at))\n            .map(transaction => transaction.amount)\n            .map(num => parseFloat(num)).filter(item => item < 0)\n            .filter(x => x.name in [\"Payroll\",\"Rent\",\"Taxes\",\"Utilities\"])\n            .reduce((acc, item) => (acc -= item), 0)\n            .toFixed(2))\n        \n        \n        \n    const ylabels = [long, total-long]\n    const data = {\n        labels: [\"Long-term\",\"Short-Term\"],\n        datasets: [\n          {\n            label: \"\",\n            backgroundColor: 'rgba(210, 82, 127, 1)',\n            borderColor: 'rgba(255,99,132,1)',\n            borderWidth: 1,\n            hoverBackgroundColor: 'rgba(255,99,132,0.4)',\n            hoverBorderColor: 'rgba(255,99,132,1)',\n            data: ylabels\n          }\n        ]\n      };\n\n      var options = {\n        legend:{display:false},\n        scales:{\n        xAxes:[{gridLines:{display:false}}],\n        yAxes:[{gridLines:{display:true},ticks:{beginAtZero:true}}]\n        }\n      }\n\n  return (\n    <>\n      <h5>\n  TOTAL EXPENSE\n  </h5>\n \n  <h4 style={{float:'right'}} >\n  SGD ${(this.props.data\n    .map(transaction => transaction.amount).map(num => parseFloat(num))\n    .filter(item => item > 0)\n    .reduce((acc, item) => (acc += item), 0)\n    .toFixed(2))}\n </h4>\n\n <br/>\n   <div className=\"line\"></div>\n   <Bar data={data} options={options}></Bar>\n   \n</>\n\n    )\n  }\n}\n\n\n  \n\n  export default Expense;\n"]},"metadata":{},"sourceType":"module"}