{"ast":null,"code":"var _jsxFileName = \"/Users/darius/Desktop/orbital2020/frontend/src/components/Expense/Revenue.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport Popup from \"reactjs-popup\";\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport EditIcon from '@material-ui/icons/Edit';\nimport Button from '@material-ui/core/button';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Input from '@material-ui/core/Input';\nimport TextField from '@material-ui/core/TextField';\nexport const Revenue = ({\n  transaction\n}) => {\n  const onDelete = event => {\n    return axios.delete(`api/${transaction.id}/`);\n  };\n\n  const daydiff = objdate => {\n    const currdate = new Date(new Date().getFullYear(), new Date().getMonth(), new Date().getDate());\n    const objyear = objdate.substring(0, 4);\n    const objmth = objdate.substring(5, 7) - 1;\n    const objday = objdate.substring(8, 10);\n    const objhour = parseInt(objdate.substring(11, 13)) + 8;\n    const objmin = objdate.substring(14, 16);\n    const objsec = objdate.substring(17, 19);\n    const olddate = new Date(objyear, objmth, objday, objhour, objmin, objsec);\n    const transdate = new Date(olddate.getFullYear(), olddate.getMonth(), olddate.getDate());\n    const daydiff = Math.floor((currdate.getTime() - transdate.getTime()) / (1000 * 60 * 60 * 24));\n\n    if (daydiff === 0) {\n      return \"Created Today\";\n    } else if (daydiff === 1) {\n      return \"Created Yesterday\";\n    } else {\n      return \"Created \" + daydiff + \" days ago\";\n    }\n  };\n\n  const onUpdate = event => {\n    const name = event.target.name.value;\n    const amount = event.target.amount.value;\n    const username = localStorage.getItem(\"username\");\n    return axios.put(`api/${transaction.id}/`, {\n      name: name,\n      username: username,\n      amount: amount\n    }).catch(err => console.log(err));\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }, transaction.amount > 0 && /*#__PURE__*/React.createElement(\"li\", {\n    className: transaction.amount < 0 ? 'minus' : 'plus',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 14\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  }, transaction.name, \" : $\", Math.abs(transaction.amount)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"date\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 14\n    }\n  }, daydiff(transaction.created_at))), /*#__PURE__*/React.createElement(Popup, {\n    trigger: /*#__PURE__*/React.createElement(EditIcon, {\n      className: \"update-btn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 29\n      }\n    }, \"Update\"),\n    modal: true,\n    closeOnDocumentClick: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: onUpdate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(InputLabel, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }, \"Category\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"trans-input\",\n    type: \"text\",\n    name: \"name\",\n    placeholder: \"Enter...\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(InputLabel, {\n    htmlFor: \"standard-adornment-amount\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }, \"Amount\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"trans-input\",\n    name: \"amount\",\n    type: \"text\",\n    placeholder: \"Enter amount...\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    type: \"submit\",\n    fullWidth: true,\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  }, \"Update Revenue\")))), /*#__PURE__*/React.createElement(DeleteIcon, {\n    className: \"delete-btn\",\n    onClick: onDelete,\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 2\n    }\n  }))));\n};","map":{"version":3,"sources":["/Users/darius/Desktop/orbital2020/frontend/src/components/Expense/Revenue.js"],"names":["React","axios","Popup","DeleteIcon","EditIcon","Button","InputAdornment","InputLabel","Input","TextField","Revenue","transaction","onDelete","event","delete","id","daydiff","objdate","currdate","Date","getFullYear","getMonth","getDate","objyear","substring","objmth","objday","objhour","parseInt","objmin","objsec","olddate","transdate","Math","floor","getTime","onUpdate","name","target","value","amount","username","localStorage","getItem","put","catch","err","console","log","abs","created_at"],"mappings":"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","sourcesContent":["import React from 'react'\nimport axios from 'axios';\nimport Popup from \"reactjs-popup\";\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport EditIcon from '@material-ui/icons/Edit';\nimport Button from '@material-ui/core/button';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Input from '@material-ui/core/Input';\nimport TextField from '@material-ui/core/TextField';\nexport const Revenue = ({transaction}) => {\n  \n    const onDelete = event => {\n        return axios.delete(`api/${transaction.id}/`);\n    }\n\n\n    const daydiff = (objdate) => {\n        const currdate = new Date(new Date().getFullYear(),new Date().getMonth(),new Date().getDate())\n        const objyear = objdate.substring(0,4)\n        const objmth = objdate.substring(5,7) - 1\n        const objday = objdate.substring(8,10)\n        const objhour = parseInt(objdate.substring(11,13)) + 8\n        const objmin = objdate.substring(14,16)\n        const objsec = objdate.substring(17,19)\n        const olddate = new Date(objyear,objmth,objday,objhour,objmin,objsec)\n        const transdate = new Date(olddate.getFullYear(),olddate.getMonth(),olddate.getDate())\n        const daydiff = Math.floor((currdate.getTime() -transdate.getTime()) / (1000*60*60*24))\n        if (daydiff === 0) {\n            return \"Created Today\";\n        } else if (daydiff === 1) {\n            return \"Created Yesterday\";\n        } else {\n            return \"Created \" + daydiff + \" days ago\"\n        }\n    }\n   \n    const onUpdate = event => {\n        const name = event.target.name.value;\n        const amount = event.target.amount.value;\n        const username = localStorage.getItem(\"username\");\n        return axios.put(`api/${transaction.id}/`, {name: name, username: username,\n            amount: amount})\n            .catch(err => console.log(err))\n    }\n \n    return (\n        <>\n\n        <div>\n        {transaction.amount > 0 &&\n        <li className={transaction.amount < 0 ? 'minus' : 'plus'}>\n             <div>\n            <div>\n            {transaction.name} : ${Math.abs(transaction.amount)}\n            </div>\n\n      \n             <div className = \"date\">{daydiff(transaction.created_at)}</div>\n            </div>  \n            <Popup trigger={<EditIcon className=\"update-btn\">Update</EditIcon>} modal closeOnDocumentClick>\n         \n            \n            <div>\n        \n        <form onSubmit={onUpdate}>\n            <div className =\"form-control\">\n            <InputLabel >Category</InputLabel>\n            <br/>\n            <input className=\"trans-input\" type=\"text\" name = \"name\" placeholder=\"Enter...\" />\n            </div>\n            <br/>\n            <div className=\"form-control\">\n            <InputLabel htmlFor=\"standard-adornment-amount\">Amount</InputLabel>\n           \n            <input className=\"trans-input\" name= \"amount\" type = \"text\" \n            placeholder=\"Enter amount...\" />\n            </div>\n            <br/>\n            <Button variant=\"contained\"  type=\"submit\"  fullWidth  color=\"primary\">Update Revenue</Button>\n        </form>\n        </div>\n    </Popup>\n\n <DeleteIcon  className=\"delete-btn\"  onClick ={onDelete} type=\"submit\"/>\n    </li>\n    }\n    </div>\n    </>\n    )\n      }\n"]},"metadata":{},"sourceType":"module"}