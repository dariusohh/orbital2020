{"ast":null,"code":"var _jsxFileName = \"/Users/darius/Desktop/orbital2020/frontend/src/components/Visual/barR.js\";\nimport React from 'react';\nimport { HorizontalBar } from 'react-chartjs-2';\nimport { Link } from \"react-router-dom\";\nimport axios from 'axios';\nimport { connect } from 'react-redux';\naxios.defaults.baseURL = 'http://127.0.0.1:8000/';\nexport class BarGraph2 extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      expense: []\n    };\n  }\n\n  componentDidMount() {\n    setTimeout(() => axios.get('api/').then(res => {\n      const new_res = res.data.filter(x => x.username === localStorage.getItem(\"username\"));\n      this.setState({\n        expense: new_res\n      });\n    }), 200);\n  }\n\n  render() {\n    const xlabels = [];\n    const y = this.props.data.filter(item => item.amount > 0).map(x => xlabels.push(x.name));\n    const ylabels = [];\n    const z = this.props.data.map(transaction => transaction.amount).map(num => parseFloat(num)).filter(item => item > 0).map(y => ylabels.push(y));\n    var da;\n    const data = {\n      labels: xlabels,\n      datasets: [{\n        label: 'Revenue Breakdown',\n        backgroundColor: 'rgba(71, 181, 209, 0.84)',\n        borderColor: 'rgba(71, 181, 209, 0.84)',\n        borderWidth: 1,\n        hoverBackgroundColor: 'rgba(255,99,132,0.4)',\n        hoverBorderColor: 'rgba(255,99,132,1)',\n        data: ylabels\n      }]\n    };\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 3\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"text2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 5\n      }\n    }, \" Revenue Breakdown\"), /*#__PURE__*/React.createElement(HorizontalBar, {\n      data: data,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(Link, {\n      to: \"/Login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"Btn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 13\n      }\n    }, \"More\")));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    token: state.token\n  };\n};\n\nexport default connect(mapStateToProps)(BarGraph2);","map":{"version":3,"sources":["/Users/darius/Desktop/orbital2020/frontend/src/components/Visual/barR.js"],"names":["React","HorizontalBar","Link","axios","connect","defaults","baseURL","BarGraph2","Component","state","expense","componentDidMount","setTimeout","get","then","res","new_res","data","filter","x","username","localStorage","getItem","setState","render","xlabels","y","props","item","amount","map","push","name","ylabels","z","transaction","num","parseFloat","da","labels","datasets","label","backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","mapStateToProps","token"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,aAAR,QAA4B,iBAA5B;AACA,SAAQC,IAAR,QAAoB,kBAApB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,aAAxB;AAEAD,KAAK,CAACE,QAAN,CAAeC,OAAf,GAAyB,wBAAzB;AAEA,OAAO,MAAMC,SAAN,SAAwBP,KAAK,CAACQ,SAA9B,CAAyC;AAAA;AAAA;AAAA,SAE9CC,KAF8C,GAEtC;AACNC,MAAAA,OAAO,EAAE;AADH,KAFsC;AAAA;;AAOhDC,EAAAA,iBAAiB,GAAG;AAChBC,IAAAA,UAAU,CAAC,MACTT,KAAK,CAACU,GAAN,CAAU,MAAV,EACCC,IADD,CACMC,GAAG,IAAI;AACT,YAAMC,OAAO,GAAGD,GAAG,CAACE,IAAJ,CAASC,MAAT,CAAgBC,CAAC,IAAIA,CAAC,CAACC,QAAF,KAAeC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAApC,CAAhB;AACA,WAAKC,QAAL,CAAc;AACVb,QAAAA,OAAO,EAAEM;AADC,OAAd;AAGH,KAND,CADQ,EAOJ,GAPI,CAAV;AAQD;;AAEDQ,EAAAA,MAAM,GAAI;AAGV,UAAMC,OAAO,GAAG,EAAhB;AACE,UAAMC,CAAC,GAAG,KAAKC,KAAL,CAAWV,IAAX,CACTC,MADS,CACFU,IAAI,IAAIA,IAAI,CAACC,MAAL,GAAc,CADpB,EACuBC,GADvB,CAC2BX,CAAC,IAAIM,OAAO,CAACM,IAAR,CAAaZ,CAAC,CAACa,IAAf,CADhC,CAAV;AAEA,UAAMC,OAAO,GAAG,EAAhB;AACA,UAAMC,CAAC,GAAG,KAAKP,KAAL,CAAWV,IAAX,CACTa,GADS,CACLK,WAAW,IAAIA,WAAW,CAACN,MADtB,EAETC,GAFS,CAELM,GAAG,IAAIC,UAAU,CAACD,GAAD,CAFZ,EAGTlB,MAHS,CAGFU,IAAI,IAAIA,IAAI,GAAG,CAHb,EAGgBE,GAHhB,CAGoBJ,CAAC,IAAIO,OAAO,CAACF,IAAR,CAAaL,CAAb,CAHzB,CAAV;AAKA,QAAIY,EAAJ;AAEA,UAAMrB,IAAI,GAAG;AACTsB,MAAAA,MAAM,EAAEd,OADC;AAETe,MAAAA,QAAQ,EAAE,CACR;AACEC,QAAAA,KAAK,EAAE,mBADT;AAEEC,QAAAA,eAAe,EAAE,0BAFnB;AAGEC,QAAAA,WAAW,EAAE,0BAHf;AAIEC,QAAAA,WAAW,EAAE,CAJf;AAKEC,QAAAA,oBAAoB,EAAE,sBALxB;AAMEC,QAAAA,gBAAgB,EAAE,oBANpB;AAOE7B,QAAAA,IAAI,EAAEgB;AAPR,OADQ;AAFD,KAAb;AAcJ,wBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAI,MAAA,SAAS,EAAC,OAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADF,eAEE,oBAAC,aAAD;AAAe,MAAA,IAAI,EAAEhB,IAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,eAGE,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAC,QAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACQ;AAAQ,MAAA,SAAS,EAAC,KAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADR,CAHF,CADF;AAYC;;AA1D+C;;AA6DhD,MAAM8B,eAAe,GAAGtC,KAAK,IAAI;AAC/B,SAAO;AACHuC,IAAAA,KAAK,EAAEvC,KAAK,CAACuC;AADV,GAAP;AAGD,CAJD;;AAMA,eAAe5C,OAAO,CAAC2C,eAAD,CAAP,CAAyBxC,SAAzB,CAAf","sourcesContent":["import React from 'react';\nimport {HorizontalBar} from 'react-chartjs-2';\nimport {Link } from \"react-router-dom\"; \nimport axios from 'axios';\nimport { connect } from 'react-redux';\n\naxios.defaults.baseURL = 'http://127.0.0.1:8000/';\n\nexport class BarGraph2 extends React.Component  { \n\n  state = {\n    expense: []\n}\n\n\ncomponentDidMount() {\n    setTimeout(() => \n      axios.get('api/')\n      .then(res => {\n          const new_res = res.data.filter(x => x.username === localStorage.getItem(\"username\"));\n          this.setState({\n              expense: new_res\n          });\n      }), 200);\n  }\n\n  render () {\n  \n  \n  const xlabels = []\n    const y = this.props.data\n    .filter(item => item.amount > 0).map(x => xlabels.push(x.name))\n    const ylabels = []\n    const z = this.props.data\n    .map(transaction => transaction.amount)\n    .map(num => parseFloat(num))\n    .filter(item => item > 0).map(y => ylabels.push(y))\n\n    var da\n\n    const data = {\n        labels: xlabels,\n        datasets: [\n          {\n            label: 'Revenue Breakdown',\n            backgroundColor: 'rgba(71, 181, 209, 0.84)',\n            borderColor: 'rgba(71, 181, 209, 0.84)',\n            borderWidth: 1,\n            hoverBackgroundColor: 'rgba(255,99,132,0.4)',\n            hoverBorderColor: 'rgba(255,99,132,1)',\n            data: ylabels\n          }\n        ]\n      };\nreturn (\n  <div>\n    <h2 className='text2'> Revenue Breakdown</h2>\n    <HorizontalBar data={data}/>\n    <Link to=\"/Login\">\n            <button className=\"Btn\">\n              More\n            </button>\n            </Link>\n  </div>\n   \n)\n}\n}\n\nconst mapStateToProps = state => {\n  return {\n      token: state.token\n  }\n}\n\nexport default connect(mapStateToProps)(BarGraph2);\n\n\n"]},"metadata":{},"sourceType":"module"}