{"ast":null,"code":"var _jsxFileName = \"/Users/darius/Desktop/orbital2020/frontend/src/components/Visual/line.js\";\nimport React from 'react';\nimport { Line } from 'react-chartjs-2';\nimport { Link } from \"react-router-dom\";\nimport axios from 'axios';\nimport { connect } from 'react-redux';\naxios.defaults.baseURL = 'http://127.0.0.1:8000/';\nexport class Graph extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      expense: []\n    };\n  }\n\n  componentDidMount() {\n    setTimeout(() => axios.get('api/').then(res => {\n      const new_res = res.data.filter(x => x.username === localStorage.getItem(\"username\"));\n      this.setState({\n        expense: new_res\n      });\n    }), 200);\n  }\n\n  render() {\n    const grouping = {};\n    const daydiff = (this.props.endDate.getTime() - this.props.startDate.getTime()) / (1000 * 60 * 60 * 24);\n\n    for (var i = 0; i <= daydiff; i++) {\n      var date = new Date(this.props.startDate.getTime() + i * 1000 * 60 * 60 * 24);\n      xlabels.push(date.toLocaleDateString().slice(0, 5));\n    }\n\n    const ylabels = [];\n    const data = {\n      labels: xlabels,\n      datasets: [{\n        label: 'Profit Progress',\n        fill: false,\n        lineTension: 0.1,\n        backgroundColor: 'rgba(75,192,192,0.4)',\n        borderColor: 'rgba(75,192,192,1)',\n        borderCapStyle: 'butt',\n        borderDash: [],\n        borderDashOffset: 0.0,\n        borderJoinStyle: 'miter',\n        pointBorderColor: 'rgba(75,192,192,1)',\n        pointBackgroundColor: '#fff',\n        pointBorderWidth: 1,\n        pointHoverRadius: 5,\n        pointHoverBackgroundColor: 'rgba(75,192,192,1)',\n        pointHoverBorderColor: 'rgba(220,220,220,1)',\n        pointHoverBorderWidth: 2,\n        pointRadius: 1,\n        pointHitRadius: 10,\n        data: ylabels\n      }]\n    };\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"text2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }\n    }, \"Profit Progress\"), /*#__PURE__*/React.createElement(Line, {\n      data: data,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Link, {\n      to: \"/Login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"Btn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 13\n      }\n    }, \"More\")));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    token: state.token\n  };\n};\n\nexport default connect(mapStateToProps)(Graph);","map":{"version":3,"sources":["/Users/darius/Desktop/orbital2020/frontend/src/components/Visual/line.js"],"names":["React","Line","Link","axios","connect","defaults","baseURL","Graph","Component","state","expense","componentDidMount","setTimeout","get","then","res","new_res","data","filter","x","username","localStorage","getItem","setState","render","grouping","daydiff","props","endDate","getTime","startDate","i","date","Date","xlabels","push","toLocaleDateString","slice","ylabels","labels","datasets","label","fill","lineTension","backgroundColor","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","pointBorderColor","pointBackgroundColor","pointBorderWidth","pointHoverRadius","pointHoverBackgroundColor","pointHoverBorderColor","pointHoverBorderWidth","pointRadius","pointHitRadius","mapStateToProps","token"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {Line} from 'react-chartjs-2';\nimport {Link } from \"react-router-dom\"; \nimport axios from 'axios';\nimport { connect } from 'react-redux';\n\naxios.defaults.baseURL = 'http://127.0.0.1:8000/';\n\nexport class  Graph extends React.Component {\n  state = {\n    expense: []\n}\n\n\ncomponentDidMount() {\n    setTimeout(() => \n      axios.get('api/')\n      .then(res => {\n          const new_res = res.data.filter(x => x.username === localStorage.getItem(\"username\"));\n          this.setState({\n              expense: new_res\n          });\n      }), 200);\n  }\n\n\n\nrender() {\n\n  const grouping = {}\n  const daydiff = (this.props.endDate.getTime() - this.props.startDate.getTime()) / (1000*60*60*24)\n  for (var i = 0; i <= daydiff; i++) {\n    var date = new Date(this.props.startDate.getTime() + (i*1000*60*60*24));\n    xlabels.push(date.toLocaleDateString().slice(0,5))\n  }\n  const ylabels = []\n\n\n\n    const data = {\n        labels: xlabels,\n        datasets: [\n          {\n            label: 'Profit Progress',\n            fill: false,\n            lineTension: 0.1,\n            backgroundColor: 'rgba(75,192,192,0.4)',\n            borderColor: 'rgba(75,192,192,1)',\n            borderCapStyle: 'butt',\n            borderDash: [],\n            borderDashOffset: 0.0,\n            borderJoinStyle: 'miter',\n            pointBorderColor: 'rgba(75,192,192,1)',\n            pointBackgroundColor: '#fff',\n            pointBorderWidth: 1,\n            pointHoverRadius: 5,\n            pointHoverBackgroundColor: 'rgba(75,192,192,1)',\n            pointHoverBorderColor: 'rgba(220,220,220,1)',\n            pointHoverBorderWidth: 2,\n            pointRadius: 1,\n            pointHitRadius: 10,\n            data: ylabels\n          }\n        ]\n      };\n      \n    \n    return (\n        <div>\n        <h2 className='text2'>Profit Progress</h2>\n        <Line data={data} />\n        <Link to=\"/Login\">\n            <button className=\"Btn\">\n              More\n            </button>\n            </Link>\n      </div>\n    )\n}\n\n}\n\nconst mapStateToProps = state => {\n  return {\n      token: state.token\n  }\n}\n\nexport default connect(mapStateToProps)(Graph);\n\n\n"]},"metadata":{},"sourceType":"module"}